(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[2],{140:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n(80),a=n.n(r),o=n(81),i=n(86),c=n(76),s=n(77),u=n(79),l=n(78),f=n(0),d=(n(98),n(12)),m=n(4),p=n(3),v=function(e){var t=e.title,n=e.poster,r=e.baseUrl;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"HomeList-title",children:t}),Object(p.jsx)("img",{src:n?"".concat(r).concat(n):n,alt:t})]})};v.defaultProps={title:"Nothing Found"};var g=v,h=Object(m.f)((function(e){var t=e.movies,n=e.baseUrl,r=e.location;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"Home-title",children:"Trending today"}),Object(p.jsx)("ul",{className:"HomeList",children:t.map((function(e){var t=e.title,a=e.id,o=e.poster_path;return Object(p.jsx)("li",{className:"HomeList-item",children:Object(p.jsx)(d.b,{to:{pathname:"/movies/".concat(a),state:{from:r}},children:Object(p.jsx)(g,{title:t,poster:o,baseUrl:n})})},a)}))})]})})),b=n(75),j=n(73),y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={movies:[],page:1,base_url:"https://image.tmdb.org/t/p/w500"},e.fetchMovies=function(t){b.a.getMovieTrends(t).then((function(t){return e.setState((function(e){return{movies:[].concat(Object(i.a)(e.movies),Object(i.a)(t.data.results)),page:e.page+1}}))}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.page,e.next=3,b.a.getMovieTrends(t);case 3:n=e.sent,this.setState({movies:n.data.results});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){this.state.movies.length>20&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=this.state,n=t.movies,r=t.base_url,a=t.page;return Object(p.jsxs)("div",{className:"HomeView-content",children:[Object(p.jsx)(h,{movies:n,baseUrl:r}),n.length>0&&Object(p.jsx)(j.a,{style:{borderRadius:35,backgroundColor:"#363945",color:"white",padding:"1px 36px",fontSize:"18px"},variant:"contained",onClick:function(){return e.fetchMovies(a+1)},children:"Next movies"})]})}}]),n}(f.Component)},75:function(e,t,n){"use strict";var r=n(84),a=n.n(r),o="eef1cd881f885cf39765ac4359f8bbb0";a.a.defaults.baseURL="https://api.themoviedb.org/3/";t.a={getMovieTrends:function(e){return a.a.get("trending/movie/week?api_key=".concat(o,"&page=").concat(e))},getMovieByQuery:function(e){var t=e.query,n=e.page;return a.a.get("search/movie?query=".concat(t,"&api_key=").concat(o,"&language=en-US&page=").concat(n,"&include_adult=false")).then((function(e){return e.data.results}))},getMoviesDetail:function(e){return a.a.get("movie/".concat(e,"?api_key=").concat(o,"&language=en-US"))},getMovieCast:function(e){return a.a.get("/movie/".concat(e,"/credits?api_key=").concat(o,"&language=en-US"))},getMovieReview:function(e){return a.a.get("/movie/".concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1"))}}},86:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},98:function(e,t,n){}}]);
//# sourceMappingURL=home-page.90f43276.chunk.js.map