{"version":3,"sources":["components/MovieDetails/MovieDetails.module.scss","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/MovieDetails/MovieDetails.jsx","views/MovieDetailsPage.jsx","services/moviesApi.js"],"names":["module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","MovieDetails","title","date","votea","votec","desc","genres","url","baseUrl","budget","revenue","tag","normalizedBudget","toString","replace","normalizedRevenue","className","s","container","content","src","alt","textContainer","tagline","subtitle","text","score","list","map","id","name","item","defaultProps","bydget","data","Cast","lazy","Reviews","MovieDetailsPage","state","original_title","overview","imdb_id","poster_path","release_date","vote_count","vote_average","base_url","handleGoBack","props","location","history","from","routes","home","a","movieId","this","match","params","API","getMoviesDetail","response","setState","Number","pathname","popularity","type","onClick","exact","to","activeClassName","fallback","color","height","width","path","render","Component","API_KEY","axios","defaults","baseURL","getMovieTrends","page","get","getMovieByQuery","query","then","results","getMovieCast","getMovieReview"],"mappings":"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","file":"static/js/movie-details.acc75335.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetails_container__2wLDH\",\"title\":\"MovieDetails_title__2zLgq\",\"content\":\"MovieDetails_content__PFWU7\",\"textContainer\":\"MovieDetails_textContainer__1RuAh\",\"tagline\":\"MovieDetails_tagline__2L4JA\",\"subtitle\":\"MovieDetails_subtitle__Ks-T8\",\"text\":\"MovieDetails_text__1caNO\",\"score\":\"MovieDetails_score__2nEej\",\"list\":\"MovieDetails_list__1jlkh\",\"item\":\"MovieDetails_item__2_6zE\",\"Information-container\":\"MovieDetails_Information-container__1ghXo\",\"MovieDetails-link\":\"MovieDetails_MovieDetails-link__23Z3l\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import s from './MovieDetails.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst MovieDetails = ({\r\n  title,\r\n  date,\r\n  votea,\r\n  votec,\r\n  desc,\r\n  genres,\r\n  url,\r\n  baseUrl,\r\n  budget,\r\n  revenue,\r\n  tag,\r\n}) => {\r\n  const normalizedBudget = budget\r\n    .toString()\r\n    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\r\n\r\n  const normalizedRevenue = revenue\r\n    .toString()\r\n    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <h1 className={s.title}>{title}</h1>\r\n\r\n      <div className={s.content}>\r\n        <img src={url ? `${baseUrl}${url}` : url} alt={title} />\r\n\r\n        <div className={s.textContainer}>\r\n          <h2 className={s.tagline}>{tag}</h2>\r\n          <h2 className={s.subtitle}>Overview:</h2>\r\n\r\n          <p className={s.text}>{desc}</p>\r\n\r\n          <p className={s.score}>\r\n            Rating: {votea} ({votec})\r\n          </p>\r\n\r\n          <p className={s.score}>Release date: {date}</p>\r\n\r\n          <p className={s.score}>Budget: {normalizedBudget}$</p>\r\n\r\n          <p className={s.score}>Revenue: {normalizedRevenue}$</p>\r\n\r\n          <h2 className={s.subtitle}>Genres:</h2>\r\n\r\n          <ul className={s.list}>\r\n            {genres &&\r\n              genres.map(({ id, name }) => (\r\n                <li className={s.item} key={id}>\r\n                  {name}\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nMovieDetails.defaultProps = {\r\n  bydget: 0,\r\n  revenue: 0,\r\n  votea: 0,\r\n  data: 0,\r\n  votec: 0,\r\n \r\n  tag: null,\r\n  title: 'Nothing found',\r\n  desc: '',\r\n};\r\n\r\nMovieDetails.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  date: PropTypes.string,\r\n  tag: PropTypes.string,\r\n  votea: PropTypes.number,\r\n  votec: PropTypes.number,\r\n  desc: PropTypes.string,\r\n  genres: PropTypes.array,\r\n  url: PropTypes.string,\r\n  baseUrl: PropTypes.string,\r\n  budget: PropTypes.number,\r\n  revenue: PropTypes.number,\r\n};\r\n\r\nexport default MovieDetails;\r\n","import { Component, Suspense, lazy } from 'react';\r\nimport { Route, NavLink } from 'react-router-dom';\r\nimport MovieDetails from '../components/MovieDetails';\r\nimport routes from '../routes';\r\nimport './MovieDetailsPage.scss';\r\nimport API from '../services/moviesApi';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst Cast = lazy(() =>\r\n  import('../components/Cast' /* webpackChunkName: \"cast-view\" */),\r\n);\r\nconst Reviews = lazy(() =>\r\n  import('../components/Reviews' /* webpackChunkName: \"reviews-view\" */),\r\n);\r\n\r\nexport default class MovieDetailsPage extends Component {\r\n  state = {\r\n    id: null,\r\n    original_title: null,\r\n    overview: null,\r\n    imdb_id: null,\r\n    genres: null,\r\n    poster_path: null,\r\n    release_date: null,\r\n    vote_count: null,\r\n    vote_average: null,\r\n    budget: null,\r\n    revenue: null,\r\n    tagline: null,\r\n    base_url: 'https://image.tmdb.org/t/p/w500',\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const movieId = this.props.match.params.movieId;\r\n\r\n    const response = await API.getMoviesDetail(movieId);\r\n\r\n    this.setState({\r\n      ...response.data,\r\n    });\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    const { location, history } = this.props;\r\n\r\n    history.push(location?.state?.from || routes.home);\r\n  };\r\n\r\n  render() {\r\n    const { match } = this.props;\r\n\r\n    const movieId = Number(match.params.movieId);\r\n\r\n    const { from } = this?.props?.location?.state || {\r\n      from: { pathname: routes.home },\r\n    };\r\n\r\n    const {\r\n      release_date,\r\n      budget,\r\n      original_title,\r\n      tagline,\r\n      vote_average,\r\n      vote_count,\r\n      overview,\r\n      genres,\r\n      poster_path,\r\n      base_url,\r\n      revenue,\r\n      popularity,\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"MovieDetailsPage-container\">\r\n        <button\r\n          className=\"MovieDetails-button\"\r\n          type=\"button\"\r\n          onClick={this.handleGoBack}\r\n        >\r\n          {'<< Previous page'}\r\n        </button>\r\n\r\n        {original_title && (\r\n          <MovieDetails\r\n            title={original_title}\r\n            date={release_date}\r\n            votea={vote_average}\r\n            votec={vote_count}\r\n            desc={overview}\r\n            genres={genres}\r\n            url={poster_path}\r\n            baseUrl={base_url}\r\n            budget={budget}\r\n            revenue={revenue}\r\n            tag={tagline}\r\n            popularity={popularity}\r\n          />\r\n        )}\r\n\r\n        <ul className=\"MovieCast-list\">\r\n          <li className=\"MovieCast-item\">\r\n            <NavLink\r\n              exact\r\n              to={{\r\n                pathname: `${match.url}/cast`,\r\n                state: {\r\n                  from: from,\r\n                },\r\n              }}\r\n              className=\"MovieDetails-link\"\r\n              activeClassName=\"MovieDetails-link--active\"\r\n            >\r\n              Cast\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"MovieCast-item\">\r\n            <NavLink\r\n              to={{\r\n                pathname: `${match.url}/review`,\r\n                state: {\r\n                  from: from,\r\n                },\r\n              }}\r\n              className=\"MovieDetails-link\"\r\n              activeClassName=\"MovieDetails-link--active\"\r\n            >\r\n              Review\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n\r\n        <Suspense\r\n          fallback={\r\n            <Loader type=\"Audio\" color=\"#00BFFF\" height={80} width={80} />\r\n          }\r\n        >\r\n          <Route\r\n            path={`${match.path}/cast`}\r\n            render={() => <Cast id={movieId} />}\r\n          />\r\n          <Route\r\n            path={`${match.path}/review`}\r\n            render={() => <Reviews id={movieId} />}\r\n          />\r\n        </Suspense>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\nconst API_KEY = 'eef1cd881f885cf39765ac4359f8bbb0';\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n\r\n\r\n\r\nconst getMovieTrends = page => {\r\n  return axios\r\n    .get(`trending/movie/week?api_key=${API_KEY}&page=${page}`);\r\n};\r\n\r\nconst getMovieByQuery = ({ query, page }) => {\r\n  return axios\r\n    .get(`search/movie?query=${query}&api_key=${API_KEY}&language=en-US&page=${page}&include_adult=false`,)\r\n    .then(response => response.data.results);\r\n};\r\n\r\nconst getMoviesDetail = movieId => {\r\n  return axios\r\n    .get(`movie/${movieId}?api_key=${API_KEY}&language=en-US`);\r\n};\r\n\r\nconst getMovieCast = movieId => {\r\n  return axios\r\n    .get(`/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,);\r\n};\r\n\r\nconst getMovieReview = movieId => {\r\n  return axios\r\n    .get(`/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,);\r\n};\r\n// eslint-disable-next-line\r\nexport default {\r\n  getMovieTrends,\r\n  getMovieByQuery,\r\n  getMoviesDetail,\r\n  getMovieCast,\r\n  getMovieReview,\r\n};\r\n"],"sourceRoot":""}